{"version":3,"file":"static/webpack/static/development/pages/index.js.cb428cdfe2e74088fd35.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import { NextPage } from 'next';\n// import { useQuery } from '@apollo/react-hooks'\n// import { NetworkStatus } from 'apollo-client'\nimport gql from 'graphql-tag'\nimport { get } from 'lodash';\n// import { RichText } from 'prismic-reactjs';\n\nimport { withApollo } from '../lib/apollo';\nimport Header from '../components/header';\n\nexport const PAGE_QUERY = gql`\n query pageQuery($uid: String!, $lang: String!) {\n  page(uid: $uid, lang: $lang) {\n    title\n    body {\n      ...on PageBodyWorks {\n        fields {\n          work {\n            __typename\n            ...on Work {\n              title\n              theme\n            }\n          }\n        }\n      }\n    }\n  }\n}\n`;\n\nconst Index: NextPage<{ title?: string, body: any[] }> = ({ title = '', body = [] }) => {\n  // const { data } = useQuery(ABOUT_QUERY)\n\n  // const title = get(data, 'allAbouts.edges.0.node.title.0.text', '') as string;\n\n  console.log(body)\n  return <div>\n    <Header />\n    <h1>{title}</h1>\n    {body.map(item => {\n      if (item.__typename === 'PageBodyWorks') {\n        return <div key={get(item, 'fields.0.work.theme')}>\n          {get(item, 'fields.0.work.title.text')}\n        </div>\n      }\n    })}\n  </div>;\n};\n\nIndex.getInitialProps = async ({ apolloClient }: any) => {\n  const { data } = await apolloClient.query({\n    query: PAGE_QUERY,\n    variables: { uid: 'index', lang: 'ru' }\n  })\n\n  const title = get(data, 'page.title.0.text', '') as string;\n  const body = get(data, 'page.body', []) as any[];\n\n  return { title, body };\n};\n\nexport default withApollo(Index);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAoBA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAFA;AACA;AAFA;AAAA;AACA;AAKA;AACA;AAPA;AASA;AAAA;AAAA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAWA;;;;A","sourceRoot":""}